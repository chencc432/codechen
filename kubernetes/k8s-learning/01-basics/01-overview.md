# ğŸ“– Kubernetes æ¦‚è¿°ä¸æ¶æ„

## ä»€ä¹ˆæ˜¯ Kubernetesï¼Ÿ

**Kubernetes**ï¼ˆç®€ç§° K8sï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¹³å°ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚

### ä¸ºä»€ä¹ˆéœ€è¦ Kubernetesï¼Ÿ

åœ¨ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š

| æŒ‘æˆ˜ | ä¼ ç»Ÿæ–¹å¼ | Kubernetes è§£å†³æ–¹æ¡ˆ |
|------|---------|-------------------|
| åº”ç”¨éƒ¨ç½² | æ‰‹åŠ¨éƒ¨ç½²ï¼Œå®¹æ˜“å‡ºé”™ | å£°æ˜å¼é…ç½®ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½² |
| æ‰©ç¼©å®¹ | æ‰‹åŠ¨æ·»åŠ /ç§»é™¤æœåŠ¡å™¨ | è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ˆHPAï¼‰ |
| è´Ÿè½½å‡è¡¡ | éœ€è¦é¢å¤–é…ç½® | å†…ç½® Service è´Ÿè½½å‡è¡¡ |
| æœåŠ¡å‘ç° | ç¡¬ç¼–ç  IP/åŸŸå | DNS è‡ªåŠ¨æœåŠ¡å‘ç° |
| æ•…éšœæ¢å¤ | äººå·¥å¹²é¢„ | è‡ªåŠ¨é‡å¯/é‡è°ƒåº¦ |
| æ»šåŠ¨æ›´æ–° | åœæœºæ›´æ–° | é›¶åœæœºæ»šåŠ¨æ›´æ–° |
| é…ç½®ç®¡ç† | æ•£è½å„å¤„ | ConfigMap/Secret é›†ä¸­ç®¡ç† |

### Kubernetes çš„æ ¸å¿ƒç‰¹æ€§

1. **è‡ªæˆ‘ä¿®å¤**ï¼šè‡ªåŠ¨é‡å¯å¤±è´¥çš„å®¹å™¨ï¼Œæ€æ­»ä¸å“åº”å¥åº·æ£€æŸ¥çš„å®¹å™¨
2. **æ°´å¹³æ‰©å±•**ï¼šé€šè¿‡å‘½ä»¤æˆ– UI æ‰‹åŠ¨æ‰©å±•ï¼Œæˆ–åŸºäº CPU ä½¿ç”¨ç‡è‡ªåŠ¨æ‰©å±•
3. **æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡**ï¼šä¸ºå®¹å™¨æä¾› DNS åç§°æˆ– IP åœ°å€ï¼Œå¹¶åœ¨å®¹å™¨é—´åˆ†é…æµé‡
4. **è‡ªåŠ¨è£…ç®±**ï¼šæ ¹æ®èµ„æºéœ€æ±‚å’Œçº¦æŸè‡ªåŠ¨æ”¾ç½®å®¹å™¨ï¼Œå……åˆ†åˆ©ç”¨èŠ‚ç‚¹èµ„æº
5. **è‡ªåŠ¨å‘å¸ƒä¸å›æ»š**ï¼šé€æ­¥æ¨å‡ºåº”ç”¨å˜æ›´ï¼ŒåŒæ—¶ç›‘æ§åº”ç”¨å¥åº·çŠ¶å†µ
6. **å¯†é’¥ä¸é…ç½®ç®¡ç†**ï¼šå®‰å…¨åœ°å­˜å‚¨å’Œç®¡ç†æ•æ„Ÿä¿¡æ¯

## Kubernetes æ¶æ„å…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Kubernetes Cluster                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    Control Plane (Master)                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚ API Server   â”‚ â”‚  Scheduler   â”‚ â”‚ Controller Manager       â”‚ â”‚    â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚ - Node Controller        â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ kubectl â”€â”€>  â”‚ â”‚ è°ƒåº¦å†³ç­–      â”‚ â”‚ - Replication Controller â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ REST API     â”‚ â”‚              â”‚ â”‚ - Endpoint Controller    â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚    etcd      â”‚ â”‚        Cloud Controller Manager          â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  (æ•°æ®å­˜å‚¨)   â”‚ â”‚        (äº‘å¹³å°é›†æˆï¼Œå¯é€‰)                  â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         Worker Nodes                                â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚         Node 1              â”‚  â”‚         Node 2              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Pod A  â”‚ â”‚ Pod B  â”‚     â”‚  â”‚  â”‚ Pod C  â”‚ â”‚ Pod D  â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚      kubelet        â”‚   â”‚  â”‚  â”‚      kubelet        â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     kube-proxy      â”‚   â”‚  â”‚  â”‚     kube-proxy      â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Container Runtime  â”‚   â”‚  â”‚  â”‚  Container Runtime  â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  (containerd/CRI-O) â”‚   â”‚  â”‚  â”‚  (containerd/CRI-O) â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ§åˆ¶å¹³é¢ï¼ˆControl Planeï¼‰ç»„ä»¶

### 1. kube-apiserverï¼ˆAPI æœåŠ¡å™¨ï¼‰

- **ä½œç”¨**ï¼šKubernetes çš„å¤§è„‘ï¼Œæ‰€æœ‰ç»„ä»¶çš„äº¤äº’å…¥å£
- **åŠŸèƒ½**ï¼š
  - æä¾› REST API æ¥å£
  - éªŒè¯å’Œé…ç½® API å¯¹è±¡ï¼ˆPodã€Serviceã€Deployment ç­‰ï¼‰
  - æ‰€æœ‰ç»„ä»¶éƒ½é€šè¿‡ API Server é€šä¿¡

```bash
# æ‰€æœ‰ kubectl å‘½ä»¤éƒ½æ˜¯é€šè¿‡ API Server
kubectl get pods  # å®é™…è°ƒç”¨: GET /api/v1/namespaces/default/pods
```

### 2. etcdï¼ˆæ•°æ®å­˜å‚¨ï¼‰

- **ä½œç”¨**ï¼šåˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ï¼Œä¿å­˜é›†ç¾¤çš„æ‰€æœ‰çŠ¶æ€æ•°æ®
- **å­˜å‚¨å†…å®¹**ï¼š
  - é›†ç¾¤é…ç½®
  - èµ„æºå¯¹è±¡çŠ¶æ€
  - æœåŠ¡å‘ç°ä¿¡æ¯
- **ç‰¹ç‚¹**ï¼šé«˜å¯ç”¨ã€å¼ºä¸€è‡´æ€§

### 3. kube-schedulerï¼ˆè°ƒåº¦å™¨ï¼‰

- **ä½œç”¨**ï¼šå†³å®š Pod è¿è¡Œåœ¨å“ªä¸ªèŠ‚ç‚¹ä¸Š
- **è°ƒåº¦æµç¨‹**ï¼š
  1. è¿‡æ»¤ï¼šæ’é™¤ä¸æ»¡è¶³æ¡ä»¶çš„èŠ‚ç‚¹
  2. æ‰“åˆ†ï¼šå¯¹å‰©ä½™èŠ‚ç‚¹è¯„åˆ†
  3. ç»‘å®šï¼šå°† Pod åˆ†é…åˆ°å¾—åˆ†æœ€é«˜çš„èŠ‚ç‚¹

```
è°ƒåº¦å› ç´ ï¼š
â”œâ”€â”€ èµ„æºéœ€æ±‚ï¼ˆCPUã€å†…å­˜ï¼‰
â”œâ”€â”€ äº²å’Œæ€§/åäº²å’Œæ€§
â”œâ”€â”€ æ±¡ç‚¹å’Œå®¹å¿åº¦
â”œâ”€â”€ èŠ‚ç‚¹é€‰æ‹©å™¨
â””â”€â”€ ä¼˜å…ˆçº§
```

### 4. kube-controller-managerï¼ˆæ§åˆ¶å™¨ç®¡ç†å™¨ï¼‰

- **ä½œç”¨**ï¼šè¿è¡Œå„ç§æ§åˆ¶å™¨ï¼Œç¡®ä¿é›†ç¾¤è¾¾åˆ°æœŸæœ›çŠ¶æ€
- **å¸¸è§æ§åˆ¶å™¨**ï¼š

| æ§åˆ¶å™¨ | èŒè´£ |
|--------|------|
| Node Controller | ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ |
| Replication Controller | ç»´æŠ¤ Pod å‰¯æœ¬æ•° |
| Endpoints Controller | ç»´æŠ¤ Service çš„ Endpoints |
| Service Account Controller | ç®¡ç†å‘½åç©ºé—´çš„é»˜è®¤è´¦æˆ· |

## å·¥ä½œèŠ‚ç‚¹ï¼ˆWorker Nodeï¼‰ç»„ä»¶

### 1. kubelet

- **ä½œç”¨**ï¼šèŠ‚ç‚¹ä»£ç†ï¼Œç¡®ä¿å®¹å™¨æŒ‰ç…§ PodSpec è¿è¡Œ
- **èŒè´£**ï¼š
  - å‘ API Server æ³¨å†ŒèŠ‚ç‚¹
  - ç›‘å¬ API Server åˆ†é…çš„ä»»åŠ¡
  - ç®¡ç† Pod ç”Ÿå‘½å‘¨æœŸ
  - ä¸ŠæŠ¥èŠ‚ç‚¹å’Œ Pod çŠ¶æ€

### 2. kube-proxy

- **ä½œç”¨**ï¼šç½‘ç»œä»£ç†ï¼Œå®ç° Service çš„ç½‘ç»œè§„åˆ™
- **æ¨¡å¼**ï¼š
  - iptablesï¼ˆé»˜è®¤ï¼‰
  - IPVSï¼ˆé«˜æ€§èƒ½ï¼‰
  - userspaceï¼ˆå·²å¼ƒç”¨ï¼‰

### 3. Container Runtimeï¼ˆå®¹å™¨è¿è¡Œæ—¶ï¼‰

- **ä½œç”¨**ï¼šå®é™…è¿è¡Œå®¹å™¨çš„ç»„ä»¶
- **æ”¯æŒçš„è¿è¡Œæ—¶**ï¼š
  - containerdï¼ˆæ¨èï¼‰
  - CRI-O
  - Dockerï¼ˆé€šè¿‡ cri-dockerdï¼‰

## å·¥ä½œæµç¨‹ç¤ºä¾‹

ä»¥åˆ›å»ºä¸€ä¸ª Deployment ä¸ºä¾‹ï¼š

```
ç”¨æˆ·                   API Server              etcd
  â”‚                        â”‚                     â”‚
  â”‚â”€â”€â”€ kubectl apply â”€â”€â”€â”€â”€>â”‚                     â”‚
  â”‚                        â”‚â”€â”€â”€â”€ å­˜å‚¨èµ„æºå®šä¹‰ â”€â”€â”€â”€>â”‚
  â”‚                        â”‚<â”€â”€â”€ ç¡®è®¤å­˜å‚¨ â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚<â”€â”€ åˆ›å»ºæˆåŠŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚                     â”‚
  â”‚                 Controller Manager           â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚<â”€â”€â”€ ç›‘å¬å˜åŒ– â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚â”€â”€ åˆ›å»º ReplicaSet â”€â”€>â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚                     â”‚
  â”‚                    Scheduler                  â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚<â”€â”€â”€ å‘ç°æœªè°ƒåº¦ Pod â”€â”€â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚â”€â”€ è°ƒåº¦å†³ç­– â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚                     â”‚
  â”‚                     kubelet                   â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚<â”€â”€â”€ å‘ç°æ–° Pod â”€â”€â”€â”€â”€â”€â”‚
  â”‚                        â”‚                     â”‚
  â”‚                        â”‚â”€â”€ åˆ›å»ºå®¹å™¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
```

## æ ¸å¿ƒæ¦‚å¿µé¢„è§ˆ

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| **Pod** | æœ€å°éƒ¨ç½²å•å…ƒï¼Œä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é›†åˆ |
| **Service** | å®šä¹‰è®¿é—® Pod çš„ç­–ç•¥ï¼Œæä¾›è´Ÿè½½å‡è¡¡ |
| **Deployment** | å£°æ˜å¼æ›´æ–° Pod å’Œ ReplicaSet |
| **Namespace** | èµ„æºéš”ç¦»çš„è™šæ‹Ÿé›†ç¾¤ |
| **ConfigMap** | å­˜å‚¨éæ•æ„Ÿé…ç½®æ•°æ® |
| **Secret** | å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼ˆå¯†ç ã€token ç­‰ï¼‰ |
| **Volume** | å­˜å‚¨å·ï¼Œæä¾›æŒä¹…åŒ–å­˜å‚¨ |
| **Label** | é”®å€¼å¯¹æ ‡ç­¾ï¼Œç”¨äºç»„ç»‡å’Œé€‰æ‹©èµ„æº |

## å®è·µç»ƒä¹ 

### ç»ƒä¹  1ï¼šæŸ¥çœ‹é›†ç¾¤æ¶æ„

```bash
# æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯
kubectl cluster-info

# æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ…
kubectl get nodes -o wide

# æŸ¥çœ‹æ§åˆ¶å¹³é¢ç»„ä»¶
kubectl get pods -n kube-system

# æŸ¥çœ‹ç»„ä»¶çŠ¶æ€ï¼ˆå¦‚æœå¯ç”¨ï¼‰
kubectl get componentstatuses
```

### ç»ƒä¹  2ï¼šæ¢ç´¢ API èµ„æº

```bash
# åˆ—å‡ºæ‰€æœ‰ API èµ„æº
kubectl api-resources

# æŸ¥çœ‹ API ç‰ˆæœ¬
kubectl api-versions

# è§£é‡ŠæŸä¸ªèµ„æº
kubectl explain pod
kubectl explain pod.spec
kubectl explain pod.spec.containers
```

## å…³é”®è¦ç‚¹

1. **å£°æ˜å¼é…ç½®**ï¼šå‘Šè¯‰ K8s ä½ æƒ³è¦ä»€ä¹ˆï¼ˆæœŸæœ›çŠ¶æ€ï¼‰ï¼Œè€Œä¸æ˜¯æ€ä¹ˆåš
2. **æ§åˆ¶å¾ªç¯**ï¼šController ä¸æ–­å¯¹æ¯”å½“å‰çŠ¶æ€å’ŒæœŸæœ›çŠ¶æ€ï¼Œè‡ªåŠ¨è°ƒæ•´
3. **æ¾è€¦åˆè®¾è®¡**ï¼šå„ç»„ä»¶é€šè¿‡ API Server é€šä¿¡ï¼Œç›¸äº’ç‹¬ç«‹
4. **é«˜å¯ç”¨æ¶æ„**ï¼šæ”¯æŒå¤š Master èŠ‚ç‚¹ï¼Œetcd é›†ç¾¤

## ä¸‹ä¸€æ­¥

- [æ ¸å¿ƒç»„ä»¶è¯¦è§£](./02-components.md) - æ·±å…¥äº†è§£æ¯ä¸ªç»„ä»¶



